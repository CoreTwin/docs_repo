[Back to TOC](../basic_toc.md#technical-specification-md)

[Back to TOC](../comprehensive_toc.md#technical-specification-md)

# Техническое задание платформы CoreTwin

## 1. Миссия и ценности платформы

**Миссия CoreTwin**: предоставить инструмент для создания цифрового двойника компании любой отрасли – гибкую модульную систему для управления организационной структурой, персоналом и бизнес-процессами с максимальной прозрачностью и эффективностью.

### Ключевые ценности CoreTwin:

- **Универсальность**: платформа подходит для компаний любого масштаба и сферы деятельности
- **Гибкость**: модульная архитектура – организация подключает и настраивает только нужные компоненты
- **Прозрачность**: вся структура, роли, документы и процессы наглядны и управляемы через единый интерфейс
- **Контроль**: руководство получает полный контроль над обязанностями, задачами и доступами сотрудников
- **Интеграция**: кадры, процессы согласования и документооборот объединены в одной экосистеме
- **Цифровизация**: замена разрозненных процессов единой цифровой моделью компании
- **Безопасность**: гибкая система прав доступа и защищённое хранение данных (разграничение доступа, шифрование)

## 2. Обзор платформы

CoreTwin Platform – универсальная платформа для построения «цифрового двойника» организации. Она позволяет визуально спроектировать оргструктуру предприятия, назначить сотрудников на должности, определить их функциональные обязанности, настроить шаблоны документов и управлять бизнес-процессами в единой адаптивной системе.

Благодаря модульному подходу каждая компания – вне зависимости от отрасли и масштаба – собирает свою цифровую модель организации: от верхнего уровня управления до отдельных команд. Все элементы представлены в виде настраиваемых блоков: должности и их обязанности, шаблоны документов, маршруты согласования, роли доступа и т.д.

Платформа не просто автоматизирует процессы, а обеспечивает полный контроль, прозрачность и адаптивность компании в быстро меняющемся мире.

## 3. Функциональные модули платформы

### 3.1. Specialties & Duties (Справочник должностей и обязанностей)

**Specialties (Специальности)**: глобальный справочник типовых должностей (ролей) – например, бухгалтер, прораб, юрист, HR и т.д. Этот список используется при создании структуры компании: выбирая должности из справочника, компания формирует свой штатное расписание.

**Duties (Обязанности)**: функциональные обязанности (типовые функции) для каждой должности. Например, для должности Бухгалтер предусмотрены обязанности: «Подготовка финансовой отчетности», «Налоговое планирование» и т.п.

**Связь должностей и обязанностей**: в системе хранится связь между Specialty и соответствующими Duties через таблицу specialty_duties. Эта связь включает уровень важности/приоритета каждой обязанности для данной должности.

### 3.2. Company Structure (Модель организационной структуры)

Оргструктура компании – иерархическое представление подразделений и позиций. Пользователь может создавать подразделения (департаменты, отделы, группы) и добавлять в них должности, образуя дерево компании, а также назначать сотрудников на эти должности.

**Основные сущности структуры**:
- `company_units` – организационные единицы (подразделения)
- `company_positions` – позиции в подразделениях
- Иерархические связи через parent_id
- Архетипы подразделений (archetype_code)

### 3.3. Module Recommendation Engine

Система автоматических рекомендаций модулей на основе выбранных должностей и обязанностей:
- Алгоритм расчета рекомендаций
- Система весов и зависимостей
- Персонализированные предложения
- Анализ потребностей компании

### 3.4. Template & Document Management

Управление шаблонами документов и документооборотом:
- Библиотека шаблонов документов
- Связь шаблонов с должностями и обязанностями
- Генерация документов на основе данных
- Версионирование и управление жизненным циклом

### 3.5. Approval Workflows

Система маршрутов согласования:
- Конструктор маршрутов согласования
- Автоматическое назначение участников
- Отслеживание статусов и уведомления
- Интеграция с внешними системами

### 3.6. MCP Integration & AI Services

Интеграция с искусственным интеллектом через Model Context Protocol:
- Модерация пользовательского контента
- Интеллектуальные рекомендации
- Тестирование кастомной логики
- AI-помощник в интерфейсе

## 4. Технические требования

### 4.1. Архитектура
- Микросервисная архитектура
- API-first подход
- Мультитенантность для SaaS-модели
- Модульная система компонентов

### 4.2. Технологический стек
- **Backend**: FastAPI + SQLAlchemy + Python + Go + Rust
- **Frontend**: React + TypeScript + React Flow + Rete.js
- **База данных**: PostgreSQL (основная), Redis (кэш), ClickHouse (аналитика)
- **Развертывание**: Docker + Kubernetes
- **Интеграции**: Model Context Protocol (MCP)

### 4.3. Стандарты и классификации
- **ISCO-08**: Международная стандартная классификация занятий
- **ISIC Rev.4**: Международная стандартная отраслевая классификация
- Поддержка российских стандартов (ОКЗ, ОКВЭД2)

## 5. Безопасность и соответствие

- Строгая мультитенантность с изоляцией данных по company_id
- Система ролей и разрешений (RBAC)
- Шифрование данных в покое и в движении
- GDPR соответствие
- Аудит действий пользователей

## 6. Интеграции

- Model Context Protocol (MCP) для AI-сервисов
- REST API для внешних систем
- Webhooks для уведомлений
- Экспорт/импорт данных в стандартных форматах

---

*Данное техническое задание является основой для разработки платформы CoreTwin и может дополняться по мере развития проекта.*
